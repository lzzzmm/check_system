{% extends 'base_templates/base.html' %}
{% block content %}
<!-- component -->
<div class="flex justify-center  w-full">
  <div class="rounded-xl bg-gray-50 w-full mx-6 mt-8 mb-24">
    <div class="px-4 py-3 flex items-center justify-between text-blue-500 border-b">
      <p class="inline  py-3 rounded-full font-bold cursor-pointer">{{ object.closing_day }}</p>
    </div>
      <div class="my-10 px-4">
          <div class="text-lg font-normal leading-normal " style="white-space: pre-wrap; ">{{ object.detail }}</div>
      </div>
    <div class="flex items-center text-blue-500 justify-between py-6 px-4 border-t">
        <div class="space-y-1 border-r-2 pr-3 hidden md:block">
               <div class="text-sm leading-5 font-semibold"><span class="text-xs leading-4 font-normal text-gray-500"> 分配人：</span> {{ object.Distributor }}</div>
               <div class="text-sm leading-5 font-semibold"><span class="text-xs leading-4 font-normal text-gray-500 pr"> 执行人：</span> {{ object.people_work }}</div>
               <div class="text-sm leading-5 font-semibold"><span class="text-xs leading-4 font-normal text-gray-500 pr"> 截止到：</span>{{ object.closing_day }}</div>
                <div class="text-xs leading-5 "><span class="text-xs leading-4 font-normal text-gray-500 pr"> 通知时间：</span>{{ object.notice_day }}</div>
            <div class="text-xs leading-5 "><span class="text-xs leading-4 font-normal text-gray-500 pr"> 修改时间：</span>{{ object.modify_day }}</div>
            </div>
        <div data-toggle="modal" data-target="#model">
            <a class="inline px-4 py-3 rounded-full font-bold text-white bg-blue-500 cursor-pointer mr-4">修改</a>
          </div>
    </div>
  </div>
</div>
<form method="post" action="{% url 'update_task_detail' %}">
            {% csrf_token %}
            <div class="modal fade" id="model" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
                <div class="modal-dialog modal-dialog-centered" role="document">
                    <div class="modal-content">
                      <div class="modal-header">
                        <h5 class="modal-title" id="exampleModalCenterTitle">更改工作单</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                          <span aria-hidden="true">&times;</span>
                        </button>
                      </div>
                      <div class="modal-body">
                          <input type="radio" value="未处理" {% if object.status == '未处理' %} checked {% endif %} onclick="test1()" name="status" id="1"><label for="1">未处理</label>
                          <input type="radio" value="已完成" {% if object.status == '已完成' %} checked{% endif %} onclick="test1()" name="status" id="2"><label for="2">已完成</label>
                          <input type="radio" value="转接" {% if object.status == '转接' %} checked {% endif %} onclick="test()" name="status" id="3"><label for="3">转接</label>
                      <input type="hidden" name="task" value="{{ object.id }}">
                      <div id="showc" style="display: none" class="mt-3">
                            <p>转接执行人的员工号：</p>
                          <input type="text" class="form-control" placeholder="请输入执行人员工号" name="people_work" value="">
                      </div>
                      </div>
                      <div class="modal-footer">
                        <button type="submit" class="btn btn-primary">提交</button>
                      </div>
                    </div>
                 </div>
            </div>

<script type="text/javascript">
		function test() {
			document.getElementById('showc').style.display='block';
		}
		function test1() {
			document.getElementById('showc').style.display='none';
		}
	</script>


        </form>
{% endblock %}