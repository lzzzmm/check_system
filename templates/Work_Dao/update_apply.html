{% extends 'base_templates/base.html' %}
{% block content %}

<div class="mt-4 mx-4 mb-20">
    <div id="div1">
        {{ apply.detail | safe }}
    </div>
    <form method="post" action="{% url 'update_apply'  apply.id %}">
        {% csrf_token %}
        <textarea id="text1" style="width:100%; height:200px;" hidden name="detail"></textarea>
        <button type="submit" class="inline px-20 py-2 rounded-full font-bold text-white bg-blue-500 cursor-pointer mr-4 mt-6 float-right">修改</button>
    </form>
</div>


<!-- 引入 wangEditor.min.js -->
<script type="text/javascript">
    const E = window.wangEditor
    const editor = new E('#div1')
    const $text1 = $('#text1')
    editor.config.onchange = function (html) {
        // 第二步，监控变化，同步更新到 textarea
        $text1.val(html)
    }
    editor.config.height = 500
    editor.create()

    // 第一步，初始化 textarea 的值
    $text1.val(editor.txt.html())
</script>
{% endblock %}